
@{
    ViewData["Title"] = "Index";
    Layout = "~/Areas/Administrator/Views/Shared/AdministratorLayout.cshtml";
}

<div class="col-lg-12">
    <h1 class="text-md-center">Yazar Ajax İşlemleri</h1>
    <h3><button type="button" id="btngetwriterlist" class="btn btn-outline-primary col-lg-12">Yazarlar Listesi</button></h3>
    <h3><button type="button" id="btngetwriterbyıd" class="btn btn-outline-success col-lg-12">Yazarı Id ile Getir</button></h3>
</div>
<div id="writerlist">

</div>
<div id="getwriterbyid">

</div>
<div class="col-lg-12">
    <input class="form-control" type="text" id="id" placeholder="görüntülemek için yazar id numarasını giriniz"/>
</div>
@section scripts{
    <script>

        $("#btngetwriterlist").click(function () {
            $.ajax({
                contentType: "application/json",
                dataType: "json",
                type: "Get",
                url: "/Administrator/Writers/WriterList/",
                success: function (writers) {
                    let writer = jQuery.parseJSON(writers);
                    console.log(writer);
                    let writertable = `
                                            <div class="col-lg-12">
                                            <div class="ibox ">
                                            <div class="ibox-title">
                                            <h5>Yazarlar Listesi </h5>
                                            <div class="ibox-tools">
                                            <a class="collapse-link">
                                            <i class="fa fa-chevron-up"></i>
                                            </a>
                                            </div>
                                            </div>
                                            <div class="ibox-content">
                                            <table class="table table-hover">
                                            <thead>
                                            <tr>
                                            <th>Yazar Id</th>
                                            <th>Yazar Adı</th>
                                            </tr>
                                            </thead>`;
                    $.each(writer,
                        (index, value) => {
                            writertable += `

                                            <tbody>
                                            <tr>
                                            <td>${value.Id}</td>
                                            <td>${value.Name}</td>
                                            </tr>
                                            </tbody>`
                        });
                    writertable += `
                                            </table>
                                            </div>
                                            </div>
                                            </div>`;
                    $("#writerlist").html(writertable);
                }
            })
        })

        $("#btngetwriterbyıd").click(x => {
            let id = $("#id").val();
            console.log(id);
        });
    </script>
}
